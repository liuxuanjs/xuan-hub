## 概述

CSS3 是 CSS 的最新版本，引入了大量新特性和功能，极大地增强了网页样式设计的能力。这些新特性涵盖了选择器、视觉效果、布局、动画、响应式设计等多个方面，使开发者能够创建更加丰富、交互性更强的用户界面，同时减少对 JavaScript 和图片的依赖。

## 新增选择器

### 高级伪类选择器

**主要新增：**

- `:nth-child(n)` - 选择第 n 个子元素
- `:nth-last-child(n)` - 从后开始选择第 n 个子元素
- `:nth-of-type(n)` - 选择第 n 个同类型元素
- `:first-of-type` / `:last-of-type` - 选择第一个/最后一个同类型元素
- `:only-child` / `:only-of-type` - 选择唯一子元素/同类型元素
- `:not()` - 否定选择器

**示例：**

```css
/* 选择所有class不是"input"的节点 */
:not(.input) {
  color: #333;
}

/* 选择奇数行 */
tr:nth-child(odd) {
  background-color: #f9f9f9;
}
```

**使用场景：** 复杂的元素选择，减少类名依赖

### 属性选择器增强

**新增功能：**

- `[attr^="value"]` - 属性值以指定值开头
- `[attr$="value"]` - 属性值以指定值结尾
- `[attr*="value"]` - 属性值包含指定值

**使用场景：** 基于属性值的精确选择

## 视觉效果增强

### 圆角效果

**语法：** `border-radius`

**特点：**

- 创建圆角边框效果
- 支持椭圆形圆角
- 可分别设置四个角的半径
- 减少对图片的依赖

**示例：**

```css
.rounded {
  border-radius: 8px; /* 四个角都是8px */
}

.ellipse {
  border-radius: 50px 20px; /* 椭圆形圆角 */
}
```

**使用场景：** 按钮、卡片、头像等 UI 元素

### 阴影效果

**box-shadow（盒阴影）：**

```css
.shadow {
  box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);
  /* x偏移 y偏移 模糊半径 颜色 */
}
```

**text-shadow（文字阴影）：**

```css
.text-shadow {
  text-shadow: 2px 2px 4px #666;
}
```

**使用场景：** 增加界面层次感，突出重要元素

### 渐变效果

**线性渐变：**

```css
.linear-gradient {
  background: linear-gradient(to right, #ff0000, #0000ff);
}
```

**径向渐变：**

```css
.radial-gradient {
  background: radial-gradient(circle, #ff0000, #0000ff);
}
```

**使用场景：** 背景效果，按钮渐变，装饰性设计

## 变换与动画

### 2D 变换（Transform）

**主要变换函数：**

- `translate()` - 移动
- `rotate()` - 旋转
- `scale()` - 缩放
- `skew()` - 倾斜

**示例：**

```css
.transform {
  transform: scale(0.85, 0.9) translate(0px, -30px) skew(-9deg, 0deg);
}
```

**使用场景：** 悬停效果，图标动画，布局调整

### 3D 变换

**新增功能：**

- `rotateX()` / `rotateY()` / `rotateZ()` - 3D 旋转
- `translate3d()` - 3D 移动
- `perspective` - 透视效果

**使用场景：** 立体效果，卡片翻转，3D 导航

### 过渡动画（Transition）

**语法：** `transition`

**特点：**

- 平滑的属性值变化
- 可控制动画时间和速度曲线
- 简单易用

**示例：**

```css
.button {
  transition: all 0.3s ease;
}

.button:hover {
  background-color: #007acc;
  transform: scale(1.05);
}
```

**使用场景：** 按钮悬停，菜单展开，状态切换

### 关键帧动画（Animation）

**语法：** `@keyframes` + `animation`

**特点：**

- 复杂的动画序列
- 循环播放控制
- 多个关键帧定义

**示例：**

```css
@keyframes slideIn {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(0);
  }
}

.animated {
  animation: slideIn 0.5s ease-out;
}
```

**使用场景：** 页面加载动画，循环动画，复杂交互效果

## 布局增强

### 弹性布局（Flexbox）

**语法：** `display: flex`

**特点：**

- 一维布局系统
- 灵活的对齐和分布
- 响应式设计友好

**使用场景：** 导航栏，内容区域，表单布局

### 网格布局（Grid）

**语法：** `display: grid`

**特点：**

- 二维布局系统
- 强大的网格定义能力
- 复杂布局的最佳选择

**使用场景：** 页面整体布局，卡片网格，复杂排版

### 多列布局

**语法：** `columns` / `column-count`

**示例：**

```css
.multi-column {
  column-count: 3;
  column-gap: 20px;
}
```

**使用场景：** 新闻文章，杂志排版

## 响应式设计

### 媒体查询

**语法：** `@media`

**特点：**

- 基于设备特征应用样式
- 响应式设计的核心
- 支持多种查询条件

**示例：**

```css
@media screen and (max-width: 768px) {
  .container {
    flex-direction: column;
  }
}
```

**使用场景：** 移动端适配，不同屏幕尺寸优化

### 视口单位

**新增单位：**

- `vw` - 视口宽度的 1%
- `vh` - 视口高度的 1%
- `vmin` / `vmax` - 视口较小/较大尺寸的 1%

**使用场景：** 全屏布局，响应式字体

## 文本与字体增强

### 文字渲染优化

**新增属性：**

- `text-rendering` - 文本渲染质量
- `font-smooth` - 字体平滑
- `text-size-adjust` - 文字大小调整

### Web 字体支持

**`@font-face` 规则：**

```css
@font-face {
  font-family: "CustomFont";
  src: url("font.woff2") format("woff2");
}
```

**使用场景：** 自定义字体，品牌字体应用

### 文本装饰增强

**`text-decoration` 增强：**

- 支持多种装饰线
- 颜色和样式控制
- 装饰线位置调整

## 背景与边框增强

### 多重背景

**特点：**

- 支持多个背景图像
- 分别控制位置和重复
- 层叠效果

**示例：**

```css
.multi-bg {
  background: url("image1.png") no-repeat top left, url("image2.png") no-repeat
      bottom right, linear-gradient(to bottom, #fff, #eee);
}
```

### 背景尺寸控制

**`background-size` 属性：**

- `cover` - 覆盖整个容器
- `contain` - 包含在容器内
- 具体尺寸值

### 边框图像

**`border-image` 属性：**

- 使用图像作为边框
- 支持切片和重复模式

## 用户界面增强

### 盒模型控制

**`box-sizing` 属性：**

- `border-box` - 包含边框和内边距
- 更直观的尺寸计算

### 调整大小控制

**`resize` 属性：**

- 控制元素调整大小的能力
- `both` / `horizontal` / `vertical` / `none`

### 轮廓控制

**`outline` 增强：**

- 不影响布局的轮廓线
- 可设置偏移量

## 实际应用示例

### 现代卡片设计

**示例：**

```css
.card {
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}
```

### 响应式网格布局

**示例：**

```css
.grid-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}

@media (max-width: 768px) {
  .grid-container {
    grid-template-columns: 1fr;
  }
}
```

## 浏览器兼容性

### 现代特性支持

- **Flexbox**: IE10+
- **Grid**: IE10+（有限支持），现代浏览器全支持
- **Transform**: IE9+
- **Animation**: IE10+

### 渐进增强策略

**最佳实践：**

- 提供回退方案
- 使用特性检测
- 渐进增强而非优雅降级

## 标签

#CSS #前端面试
