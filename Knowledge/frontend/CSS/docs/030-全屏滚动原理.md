## 概述

全屏滚动是一种现代网页设计技术，通过CSS动画和JavaScript实现页面间的平滑切换效果，常用于企业官网和产品展示页面。

## 实现原理

### 基本思路

**布局结构：**
- 所有页面垂直排列，总高度为页面数量×100%
- 容器高度固定为视口高度（100vh）
- 父容器设置`overflow: hidden`隐藏多余内容
- 通过改变容器位置实现页面切换

```css
/* 容器设置 */
.fullpage-container {
    height: 100vh;
    overflow: hidden;
    position: relative;
}

/* 页面包装器 */
.fullpage-wrapper {
    height: 500%; /* 5个页面 */
    transition: transform 1s ease;
    transform: translateY(0); /* 控制显示哪个页面 */
}

/* 单个页面 */
.fullpage-section {
    height: 100vh;
    width: 100%;
}
```

### 核心CSS属性

**必要属性：**
- `overflow: hidden` - 隐藏超出视口的内容
- `transition` - 创建平滑的切换动画
- `transform: translateY()` - 控制页面位置
- `height: 100vh` - 确保每页占满视口

```css
.fullpage-wrapper {
    transition: all 1000ms ease;
    transform: translateY(-100vh); /* 显示第二页 */
}
```

## 实现方式

### 基础HTML结构

```html
<div class="fullpage-container">
    <div class="fullpage-wrapper">
        <section class="fullpage-section">第一页</section>
        <section class="fullpage-section">第二页</section>
        <section class="fullpage-section">第三页</section>
        <section class="fullpage-section">第四页</section>
        <section class="fullpage-section">第五页</section>
    </div>
</div>
```

### JavaScript控制

```javascript
let currentSection = 0;
const totalSections = 5;

function scrollToSection(index) {
    const wrapper = document.querySelector('.fullpage-wrapper');
    wrapper.style.transform = `translateY(-${index * 100}vh)`;
    currentSection = index;
}

// 鼠标滚轮事件
document.addEventListener('wheel', (e) => {
    if (e.deltaY > 0 && currentSection < totalSections - 1) {
        scrollToSection(currentSection + 1);
    } else if (e.deltaY < 0 && currentSection > 0) {
        scrollToSection(currentSection - 1);
    }
});
```

### 进阶功能

**导航指示器：**
```css
.fullpage-nav {
    position: fixed;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
}

.nav-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: rgba(255,255,255,0.5);
    margin: 10px 0;
    cursor: pointer;
}

.nav-dot.active {
    background: #fff;
}
```

## 优化要点

### 性能优化

- **防抖处理：** 避免滚动事件过于频繁
- **GPU加速：** 使用`transform3d`启用硬件加速
- **预加载：** 提前加载图片和资源

```css
.fullpage-wrapper {
    transform: translate3d(0, 0, 0); /* 开启GPU加速 */
    will-change: transform;
}
```

### 用户体验

- **触摸支持：** 移动端手势滑动
- **键盘导航：** 方向键控制
- **无障碍访问：** 支持屏幕阅读器

```javascript
// 触摸事件支持
let startY = 0;
document.addEventListener('touchstart', (e) => {
    startY = e.touches[0].clientY;
});

document.addEventListener('touchend', (e) => {
    const endY = e.changedTouches[0].clientY;
    const diff = startY - endY;
    
    if (Math.abs(diff) > 50) { // 滑动距离阈值
        if (diff > 0) scrollToSection(currentSection + 1);
        else scrollToSection(currentSection - 1);
    }
});
```

## 常见问题解决

### 滚动冲突

```css
/* 禁用页面默认滚动 */
html, body {
    overflow: hidden;
    height: 100%;
    margin: 0;
    padding: 0;
}
```

### 浏览器兼容性

```css
/* 兼容性处理 */
.fullpage-wrapper {
    -webkit-transition: -webkit-transform 1s ease;
    -moz-transition: -moz-transform 1s ease;
    -o-transition: -o-transform 1s ease;
    transition: transform 1s ease;
}
```

## 实际应用

**适合场景：**
- 产品介绍页面
- 企业官网
- 作品展示
- 故事叙述类网站

**注意事项：**
- 内容不宜过多
- 确保良好的导航体验
- 考虑SEO影响
- 提供传统滚动的回退方案

## 标签
#CSS #前端面试